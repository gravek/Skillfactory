Прогнозирование стоимости автомобиля по характеристикам
====================================================


### SkillFactory DST Project at Kaggle

<img src="https://whatcar.vn/media/2018/09/car-lot-940x470.jpg"/>


## Цель данного учебного Data Science проекта
 * посторить модель машинного обучения на реальных данных (при необходимости и возможности, собрав их)
 * достичь наилучших показателей по соответствующим метрикам качества модели

## Достигнутые результаты

**Лучшее значение метрики MAPE:**
> 3.58%  
> Этот результат был достигнут в **[ЭТОМ](https://www.kaggle.com/andreikukunov/car-price-prediction-auto-ru-2021-09) ноутбуке**  
> на **спаршеном датасете** от сентября 2009 года


**Лучшее значение Kaggle Score:**
> 17.78%  
> Этот результат был достигнут в **[ЭТОМ](https://www.kaggle.com/andreikukunov/ak-from-local-sf-dst-car-price-prediction-v16) ноутбуке**  
> на **базовом датасете**


## Что сделано

### Предобработка


> **Отбор колонок**
> * исключены коррелирующие между собой признаки
> * оставлены важные для модели м.о. признаки



> **Очистка и коррекция данных**
> * исправлена неоднородность данных между обучающей и тестовой выборками
> * пустоты в данных заполнены или удалены  


> **Обогащение данных**
> * создан работающий код для парсинга региона объявления по ссылке


### Подобраны модели МО:
> * CatBoostRegressor -- подобраны лучшие параметры и сделана логарифмизация таргета
> * XGBoostRegressor -- получен схожий результат с CatBoost
> * StackingRegressor -- обучена комбинация CatBoost и XGBoost




# Содержание ноутбуков:

- [Setup&Load](#Setup&Load)
- [EDA](#EDA)
  * [Первый взгляд на данные](#Первый-взгляд-на-данные)
  * [Data Preprocessing](#Data-Preprocessing)
    + [Отбираем колонки](#Отбираем-колонки)
    + [Немного аналитики](#Немного-аналитики)
    + [Сравниваем Test и Train по моделям автомобилей](#Сравниваем-Test-и-Train-по-моделям-автомобилей)
    + [Обрабатываем](#Обрабатываем)
    + [Общая подготовка датасетов](#Общая-подготовка-датасетов)
- [Перебираем модели](#Перебираем-модели)
    + [Train Split](#Train-Split)
  * [Model 1 : Создадим "наивную" модель](#Model-1-:-Создадим-"наивную"-модель)
  * [Model 2 : CatBoost](#Model-2-:-CatBoost)
    + [CatBoostRegressor базовый](#CatBoostRegressor-базовый)
    + [CatBoostRegressor: подбор параметров](#CatBoostRegressor:-подбор-параметров)
    + [Log Traget](#Log-Traget)
  * [Model 3 : XGBoostRegressor -- пробуем](#Model-3-:-XGBoostRegressor----пробуем)
  * [Model 4 : StackingRegressor](#Model-4-:-StackingRegressor)
- [Submission](#ubmission)
- [Приложение-1: pandas_profiling](#Приложение-1:-pandas_profiling)
- [Приложение-2: парсинг региона объявления](#Приложение-2:-парсинг-региона-объявления)
- [Приложение-3: парсинг объявлений auto.ru](#Приложение-3:-парсинг-объявлений-auto.ru)
